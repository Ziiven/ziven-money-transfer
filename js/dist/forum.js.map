{"version":3,"file":"forum.js","mappings":"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","sources":["webpack://@ziiven/flarum-daily-check-in/webpack/bootstrap","webpack://@ziiven/flarum-daily-check-in/webpack/runtime/compat get default export","webpack://@ziiven/flarum-daily-check-in/webpack/runtime/define property getters","webpack://@ziiven/flarum-daily-check-in/webpack/runtime/hasOwnProperty shorthand","webpack://@ziiven/flarum-daily-check-in/webpack/runtime/make namespace object","webpack://@ziiven/flarum-daily-check-in/external root \"flarum.core.compat['extend']\"","webpack://@ziiven/flarum-daily-check-in/external root \"flarum.core.compat['utils/UserControls']\"","webpack://@ziiven/flarum-daily-check-in/external root \"flarum.core.compat['components/NotificationGrid']\"","webpack://@ziiven/flarum-daily-check-in/external root \"flarum.core.compat['components/Button']\"","webpack://@ziiven/flarum-daily-check-in/./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://@ziiven/flarum-daily-check-in/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@ziiven/flarum-daily-check-in/external root \"flarum.core.compat['Model']\"","webpack://@ziiven/flarum-daily-check-in/./src/forum/model/TransferMoney.js","webpack://@ziiven/flarum-daily-check-in/external root \"flarum.core.compat['forum/app']\"","webpack://@ziiven/flarum-daily-check-in/external root \"flarum.core.compat['components/Modal']\"","webpack://@ziiven/flarum-daily-check-in/external root \"flarum.core.compat['common/components/Modal']\"","webpack://@ziiven/flarum-daily-check-in/external root \"flarum.core.compat['common/components/Button']\"","webpack://@ziiven/flarum-daily-check-in/./src/forum/components/TransferMoneySuccessModal.js","webpack://@ziiven/flarum-daily-check-in/./src/forum/components/TransferMoneyModal.js","webpack://@ziiven/flarum-daily-check-in/external root \"flarum.core.compat['components/Notification']\"","webpack://@ziiven/flarum-daily-check-in/./src/forum/components/TransferMoneyNotification.js","webpack://@ziiven/flarum-daily-check-in/external root \"flarum.core.compat['components/UserPage']\"","webpack://@ziiven/flarum-daily-check-in/external root \"flarum.core.compat['components/LinkButton']\"","webpack://@ziiven/flarum-daily-check-in/external root \"flarum.core.compat['Component']\"","webpack://@ziiven/flarum-daily-check-in/external root \"flarum.core.compat['app']\"","webpack://@ziiven/flarum-daily-check-in/external root \"flarum.core.compat['components/LoadingIndicator']\"","webpack://@ziiven/flarum-daily-check-in/external root \"flarum.core.compat['components/Link']\"","webpack://@ziiven/flarum-daily-check-in/external root \"flarum.core.compat['helpers/avatar']\"","webpack://@ziiven/flarum-daily-check-in/external root \"flarum.core.compat['helpers/username']\"","webpack://@ziiven/flarum-daily-check-in/./src/forum/components/TransferHistoryListItem.js","webpack://@ziiven/flarum-daily-check-in/./src/forum/components/TransferHistoryList.js","webpack://@ziiven/flarum-daily-check-in/./src/forum/components/TransferHistoryPage.js","webpack://@ziiven/flarum-daily-check-in/./src/forum/index.js","webpack://@ziiven/flarum-daily-check-in/./src/forum/addTransferMoneyPage.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['extend'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['utils/UserControls'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['components/NotificationGrid'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['components/Button'];","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  setPrototypeOf(subClass, superClass);\n}","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['Model'];","import Model from \"flarum/Model\";\n\nexport default class TransferMoney extends Model {}\nObject.assign(TransferMoney.prototype, {\n  id: Model.attribute(\"id\"),\n  transferMoney: Model.attribute(\"transfer_money_value\"),\n  assignedAt: Model.attribute(\"assigned_at\"),\n  fromUser: Model.hasOne(\"fromUser\"),\n  targetUser: Model.hasOne(\"targetUser\"),\n});\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/app'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['components/Modal'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Modal'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Button'];","import app from 'flarum/forum/app';\nimport Modal from 'flarum/common/components/Modal';\nimport Button from 'flarum/common/components/Button';\n\nexport default class TransferMoneySuccessModal extends Modal {\n  static isDismissible = false;\n\n  oninit(vnode) {\n    super.oninit(vnode);\n  }\n\n  className() {\n    return 'Modal--small';\n  }\n\n  title() {\n    return app.translator.trans('ziven-transfer-money.forum.transfer-money-success');\n  }\n\n  content() {\n    return [\n      <div className=\"Modal-body\">\n        <div style=\"text-align:center\">\n            {Button.component({\n                style:'width:66px',\n                className: 'Button Button--primary',\n                onclick: () => {\n                  location.reload();\n                }\n              },\n              app.translator.trans('ziven-transfer-money.forum.ok')\n            )}\n          </div>\n      </div>,\n    ];\n  }\n}","import app from 'flarum/forum/app';\nimport Modal from 'flarum/components/Modal';\nimport Button from 'flarum/components/Button';\nimport TransferMoneySuccessModal from './TransferMoneySuccessModal';\n\nexport default class TransferMoneyModal extends Modal {\n  static isDismissible = false;\n\n  oninit(vnode) {\n    super.oninit(vnode);\n  }\n\n  className() {\n    return 'Modal--small';\n  }\n\n  title() {\n    return app.translator.trans('ziven-transfer-money.forum.transfer-money-to', {user: this.attrs.user});\n  }\n\n  content() {\n    const moneyName = app.forum.attribute('antoinefr-money.moneyname') || '[money]';\n\n    return (\n      <div className=\"Modal-body\">\n        <div className=\"Form\">\n          <div className=\"Form-group\">\n            <label>{app.translator.trans('ziven-transfer-money.forum.current-money-amount')} {moneyName.replace('[money]', app.session.user.attribute(\"money\"))}</label>\n            <input id=\"moneyTransferInput\" required className=\"FormControl\" type=\"number\" step=\"any\" min=\"0\" value=\"0\" />\n          </div>\n          <div className=\"Form-group\" style=\"text-align: center;\">\n            {Button.component(\n              {\n                className: 'Button Button--primary',\n                type: 'submit',\n                loading: this.loading,\n              },\n              app.translator.trans('ziven-transfer-money.forum.ok')\n            )}&nbsp;\n            {Button.component(\n              {\n                className: 'Button transferMoneyButton--gray',\n                loading: this.loading,\n                onclick: () => {\n                  this.hide();\n                }\n              },\n              app.translator.trans('ziven-transfer-money.forum.cancel')\n            )}\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  onsubmit(e) {\n    e.preventDefault();\n\n    const moneyTransferValue = $(\"#moneyTransferInput\").val();\n    const targetUserID = this.attrs.user.id();\n\n    if(moneyTransferValue>0){\n      const moneyTransferData = {\n        moneyTransfer:moneyTransferValue,\n        targetUserID:targetUserID\n      };\n\n      this.loading = true;\n\n      app.store\n        .createRecord(\"transferMoney\")\n        .save(moneyTransferData)\n        .then(\n          (payload) => {\n            app.store.pushPayload(payload);\n            app.modal.show(TransferMoneySuccessModal);\n            this.loading = false;\n          }\n        )\n        .catch((e) => {\n          this.loading = false;\n        });\n    }\n  }\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['components/Notification'];","import app from 'flarum/forum/app';\nimport Notification from \"flarum/components/Notification\";\n\nexport default class TransferMoneyNotification extends Notification {\n  icon() {\n    return \"fas fa-money-bill\";\n  }\n\n  href() {\n    return app.route(\"user.transferHistory\", {\n      username: app.session.user.username(),\n    });\n  }\n\n  content() {\n    const user = this.attrs.notification.fromUser();\n    return app.translator.trans('ziven-transfer-money.forum.notifications.user-transfer-money-to-you', {\n      user: user,\n    });\n  }\n\n  excerpt() {\n    const notification = this.attrs.notification.subject();\n    const transferMoney = notification.attribute(\"transfer_money_value\");\n    const transferID = notification.attribute(\"id\");\n    const moneyName = app.forum.attribute('antoinefr-money.moneyname') || '[money]';\n    const costText = moneyName.replace('[money]', transferMoney);\n\n    return app.translator.trans('ziven-transfer-money.forum.notifications.user-transfer-money-details', {\n      cost: costText,\n      id:transferID\n    });\n  }\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['components/UserPage'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['components/LinkButton'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['Component'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['app'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['components/LoadingIndicator'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['components/Link'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['helpers/avatar'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['helpers/username'];","import Component from \"flarum/Component\";\nimport Link from \"flarum/components/Link\";\nimport avatar from \"flarum/helpers/avatar\";\nimport username from \"flarum/helpers/username\";\n\nexport default class TransferHistoryListItem extends Component {\n  view() {\n    const {transferHistory} = this.attrs;\n    const currentUserID = app.session.user.id();\n    const fromUserID = transferHistory.attribute(\"from_user_id\");\n    const assignedAt = transferHistory.assignedAt();\n    const fromUser = transferHistory.fromUser();\n    const targetUser = transferHistory.targetUser();\n    const transferMoney = transferHistory.transferMoney();\n    const transferID = transferHistory.id();\n    const transferType = app.translator.trans(currentUserID==fromUserID?\"ziven-transfer-money.forum.transfer-money-out\":\"ziven-transfer-money.forum.transfer-money-in\");\n    const transferTypeStyle = currentUserID==fromUserID?\"color:red\":\"color:green\";\n\n    const moneyName = app.forum.attribute('antoinefr-money.moneyname') || '[money]';\n    const transferMoneyText = moneyName.replace('[money]', transferMoney);\n\n    return (\n      <div className=\"transferHistoryContainer\">\n        <div style=\"display: flex;\">\n          <div style=\"width:70px\">{transferID}</div>\n          <div style=\"width:85px;\">\n            <span style={transferTypeStyle}>{transferType}</span>\n          </div>\n          <div style=\"width:190px\">\n            <Link href={fromUser ? app.route.user(fromUser) : \"#\"} className=\"transferHistoryUser\" style=\"color:var(--heading-color)\">\n              {avatar(fromUser)} {username(fromUser)}\n            </Link>\n          </div>\n          <div style=\"width:190px\">\n            <Link href={targetUser ? app.route.user(targetUser) : \"#\"} className=\"transferHistoryUser\" style=\"color:var(--heading-color)\">\n              {avatar(targetUser)} {username(targetUser)}\n            </Link>\n          </div>\n          <div style=\"width:190px\">\n            {assignedAt}\n          </div>\n          <div style=\"width:85px\">\n            {transferMoneyText}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import Component from \"flarum/Component\";\nimport app from \"flarum/app\";\nimport LoadingIndicator from \"flarum/components/LoadingIndicator\";\nimport Button from \"flarum/components/Button\";\n\nimport TransferHistoryListItem from \"./TransferHistoryListItem\";\n\nexport default class WarningList extends Component {\n  oninit(vnode) {\n    super.oninit(vnode);\n    this.loading = true;\n    this.moreResults = false;\n    this.transferHistory = [];\n    this.user = this.attrs.params.user;\n    this.loadResults();\n  }\n\n  view() {\n    let loading;\n\n    if (this.loading) {\n      loading = LoadingIndicator.component({ size: \"large\" });\n    }\n\n    return (\n      <div>\n        <div style=\"padding-bottom:30px; font-size: 24px;font-weight: bold;\">\n          {app.translator.trans(\"ziven-transfer-money.forum.transfer-money-history\")}\n        </div>\n        <div style=\"display: flex;font-weight: bold;font-size: 14px;padding-bottom:20px\">\n          <div style=\"width:70px\">{app.translator.trans(\"ziven-transfer-money.forum.transfer-list-id\")}</div>\n          <div style=\"width:85px\">{app.translator.trans(\"ziven-transfer-money.forum.transfer-list-type\")}</div>\n          <div style=\"width:190px\">{app.translator.trans(\"ziven-transfer-money.forum.transfer-list-from-user\")}</div>\n          <div style=\"width:190px\">{app.translator.trans(\"ziven-transfer-money.forum.transfer-list-target-user\")}</div>\n          <div style=\"width:190px\">{app.translator.trans(\"ziven-transfer-money.forum.transfer-list-assign-at\")}</div>\n          <div style=\"width:85px\">{app.translator.trans(\"ziven-transfer-money.forum.transfer-list-transfer-amount\")}</div>\n        </div>\n        <ul style=\"margin: 0;padding: 0;list-style-type: none;position: relative;\">\n          {this.transferHistory.map((transferHistory) => {\n            return (\n              <li key={transferHistory.id()} data-id={transferHistory.id()}>\n                {TransferHistoryListItem.component({ transferHistory })}\n              </li>\n            );\n          })}\n        </ul>\n          \n        {!this.loading && this.transferHistory.length===0 && (\n          <div>\n            <div style=\"font-size:1.4em;color: var(--muted-more-color);text-align: center;height: 300px;line-height: 100px;\">{app.translator.trans(\"ziven-transfer-money.forum.transfer-list-empty\")}</div>\n          </div>\n        )}\n\n        {this.hasMoreResults() && (\n          <div style=\"text-align:center;padding:20px\">\n            <Button className={'Button Button--primary'} disabled={this.loading} loading={this.loading} onclick={() => this.loadMore()}>\n              {app.translator.trans('ziven-transfer-money.forum.transfer-list-load-more')}\n            </Button>\n          </div>\n        )}\n      </div>\n    );\n  }\n\n  loadMore() {\n    this.loading = true;\n    this.loadResults(this.transferHistory.length).then(this.parseResults.bind(this));\n  }\n\n  parseResults(results) {\n    this.moreResults = !!results.payload.links && !!results.payload.links.next;\n    [].push.apply(this.transferHistory, results);\n    this.loading = false;\n    m.redraw();\n\n    return results;\n  }\n\n  hasMoreResults() {\n    return this.moreResults;\n  }\n\n  loadResults(offset = 0) {\n    return app.store\n      .find(\"transferHistory\", {\n        filter: {\n          user: this.user.id(),\n        },\n        page: {\n          offset,\n        },\n      })\n      .catch(() => {})\n      .then(this.parseResults.bind(this));\n  }\n}\n","import UserPage from \"flarum/components/UserPage\";\nimport TransferHistoryList from \"./TransferHistoryList\";\n\nexport default class TransferHistoryPage extends UserPage {\n  oninit(vnode) {\n    super.oninit(vnode);\n    this.loadUser(m.route.param(\"username\"));\n  }\n\n  content() {\n    return (\n      <div className=\"TransferHistoryPage\">\n        {TransferHistoryList.component({\n          params: {\n            user: this.user,\n          },\n        })}\n      </div>\n    );\n  }\n}\n","import { extend } from 'flarum/extend';\r\nimport UserControls from 'flarum/utils/UserControls';\r\nimport NotificationGrid from \"flarum/components/NotificationGrid\";\r\nimport Button from 'flarum/components/Button';\r\n\r\nimport TransferMoney from \"./model/TransferMoney\";\r\nimport TransferMoneyModal from './components/TransferMoneyModal';\r\nimport TransferMoneyNotification from \"./components/TransferMoneyNotification\";\r\nimport addTransferMoneyPage from \"./addTransferMoneyPage\";\r\n\r\napp.initializers.add('ziven-money-transfer', () => {\r\n  app.store.models.transferMoney = TransferMoney;\r\n  app.notificationComponents.transferMoney = TransferMoneyNotification;\r\n\r\n  addTransferMoneyPage();\r\n\r\n  extend(NotificationGrid.prototype, \"notificationTypes\", function (items) {\r\n    items.add(\"transferMoney\", {\r\n      name: \"transferMoney\",\r\n      icon: \"fas fa-dollar-sign\",\r\n      label: app.translator.trans(\r\n        \"ziven-transfer-money.forum.receive-transfer-from-user\"\r\n      ),\r\n    });\r\n  });\r\n\r\n  extend(UserControls, 'moderationControls', (items, user) => {\r\n    const allowUseTranferMoney = app.forum.attribute('allowUseTranferMoney');\r\n\r\n    if(app.session.user && allowUseTranferMoney){\r\n      const currentUserID = app.session.user.id();\r\n      const targetUserID = user.id();\r\n      \r\n      if(currentUserID!==targetUserID){\r\n        items.add('transferMoney', Button.component({\r\n            icon: 'fas fa-money-bill',\r\n            onclick: () => app.modal.show(TransferMoneyModal, {user})\r\n          }, app.translator.trans('ziven-transfer-money.forum.transfer-money'))\r\n        );\r\n      }\r\n    }\r\n  });\r\n});\r\n","import { extend } from \"flarum/extend\";\nimport UserPage from \"flarum/components/UserPage\";\nimport LinkButton from \"flarum/components/LinkButton\";\nimport TransferHistoryPage from \"./components/TransferHistoryPage\";\n\nexport default function () {\n  app.routes[\"user.transferHistory\"] = {\n    path: \"/u/:username/transferHistory\",\n    component: TransferHistoryPage,\n  };\n\n  extend(UserPage.prototype, \"navItems\", function (items,user) {\n      const currentUserID = app.session.user.id();\n      const targetUserID = this.user.id();\n\n      if(currentUserID==targetUserID){\n        items.add(\n          \"transferMoney\",\n          LinkButton.component({\n              href: app.route(\"user.transferHistory\", {\n                username: this.user.username(),\n              }),\n              icon: \"fas fa-money-bill\",\n            },\n            [\n              app.translator.trans(\n                \"ziven-transfer-money.forum.transfer-money-history\"\n              )\n            ]\n          ),\n          10\n        );\n      }\n  });\n}\n"],"names":["__webpack_require__","module","getter","__esModule","d","a","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","value","flarum","core","compat","_setPrototypeOf","p","setPrototypeOf","__proto__","_inheritsLoose","subClass","superClass","create","constructor","TransferMoney","Model","assign","id","transferMoney","assignedAt","fromUser","targetUser","TransferMoneySuccessModal","oninit","vnode","className","title","app","content","style","Button","onclick","location","reload","Modal","isDismissible","TransferMoneyModal","user","this","attrs","moneyName","replace","required","type","step","min","loading","hide","onsubmit","e","preventDefault","moneyTransferValue","$","val","targetUserID","moneyTransferData","moneyTransfer","save","then","payload","TransferMoneyNotification","icon","href","username","notification","excerpt","subject","attribute","transferID","costText","cost","Notification","TransferHistoryListItem","view","transferHistory","currentUserID","session","fromUserID","transferType","translator","trans","transferTypeStyle","transferMoneyText","forum","route","avatar","Component","WarningList","moreResults","params","loadResults","LoadingIndicator","size","map","component","length","hasMoreResults","disabled","loadMore","parseResults","bind","results","links","next","push","apply","m","redraw","offset","filter","page","TransferHistoryPage","loadUser","param","TransferHistoryList","UserPage","initializers","add","store","models","notificationComponents","routes","path","extend","items","LinkButton","NotificationGrid","name","label","UserControls","allowUseTranferMoney","modal","show"],"sourceRoot":""}